
\begin{tikzpicture}[]
  \node[box, minimum size=30mm] (a) {};
  \node[] (b) [right=of a, xshift=5mm] {};

  \node[box, inner ysep=1mm, minimum size=0mm, minimum width=22mm] (combine) [yshift=-6mm] {\scriptsize \texttt{combineLatest}};
  \node[box, inner ysep=1mm, minimum size=0mm, minimum width=22mm] (logging) [yshift=0mm] {\scriptsize \texttt{log in a file}};
  \node[box, inner ysep=1mm, minimum size=0mm, minimum width=22mm] (map) [yshift=6mm] {\scriptsize \texttt{map}};

  \path[line, densely dotted] (combine) edge[-stealth] (logging);
  \path[line, densely dotted] (logging) edge[-stealth] (map);

  \node[] (inputs) [left=of combine] {};
  \node[] (msg) [right=of map, xshift=3mm] {};

  \node[box, densely dotted, inner sep=2mm] (pipelinebbox) [fit=(combine)(map)(logging)] {};

  \path[line] (a) edge[-]
  node[pos=1.0, anchor=west]{$s_i$}
  (b);

  \path[line, densely dotted] (map) edge[-stealth]
  node[pos=0.7, anchor=south]{$\mu_{ib}$}
  (msg);

  \path[line, densely dotted] (inputs) edge[-stealth] (combine);
\end{tikzpicture}


